<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>New Age - Start Bootstrap Theme</title>

    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">

    <!-- Plugin CSS -->
    <link rel="stylesheet" href="vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="vendor/simple-line-icons/css/simple-line-icons.css">
    <link rel="stylesheet" href="vendor/device-mockups/device-mockups.min.css">

    <!-- Theme CSS -->
    <link href="css/new-age.min.css" rel="stylesheet">

<script>

function loadApplication() {
   var url  = window.location.href; 
     var longitude = getParams(url,"longitude");
     var latitude = getParams(url,"latitude");
     var operationSystem = getMobileOperatingSystem();
     var launchLocation= document.getElementById("image_luanch_app");
//      var launchLocationImageView = document.getElementById("imageView");
    if("Android" == operationSystem){
//         launchLocationImageView.src = "https://dl.dropboxusercontent.com/u/17984828/locklocation.%20512x5122%20(1).png";
        // var intentMap = "intent://my_host#Intent;scheme=geo:" +  longitude + "," + latitude + "?z=11;action=android.intent.action.VIEW;end";
        var intentLoclLocation = "intent://scan?longitude=" +  longitude + "&latitude=" + latitude + "#Intent;scheme=locklocation;package=com.locklocation;end";

        launchLocation.href = intentLoclLocation;
    }
    else{
//         launchLocationImageView.src = "http://aux.shenkar.ac.il/2012/group13/image/mapicon.png";
    }
}


function getParams(url,param){
    var result ="null";
    var urlSplitArray = url.split("?");
    if( urlSplitArray.length > 0){
            var urlParamsArray = urlSplitArray[1].split("&");
            for (i = 0; i < urlParamsArray.length; i++) {
                var paramsEntry = urlParamsArray[i].split("=");
                if(param == paramsEntry[0]){
                        return paramsEntry[1];
                }

            }
            
    }
    return result;
}

/**
 * Determine the mobile operating system.
 * This function returns one of 'iOS', 'Android', 'Windows Phone', or 'unknown'.
 *
 * @returns {String}
 */
function getMobileOperatingSystem() {
  var userAgent = navigator.userAgent || navigator.vendor || window.opera;

      // Windows Phone must come first because its UA also contains "Android"
    if (/windows phone/i.test(userAgent)) {
        return "Windows Phone";
    }

    if (/android/i.test(userAgent)) {
        return "Android";
    }

    // iOS detection from: http://stackoverflow.com/a/9039885/177710
    if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
        return "iOS";
    }

    return "unknown";
}


function luanchIntent(intentString) {
      var ifc = document.getElementById("ifc");
      ifc.href = intentString;
      document.getElementById("test").innerHTML = "luanchIntent";

      ifc.click();

}

function luanchMaps() {
  var operationSystem = getMobileOperatingSystem();
    if("Android" == operationSystem){
        var url  = window.location.href; 
        //getParams
         var longitude = getParams(url,"longitude");
         var latitude = getParams(url,"latitude");
         var intentString = "intent://my_host#Intent;scheme=geo:" +  longitude + "," + latitude + "?z=11;action=android.intent.action.VIEW;end";

         //luanch intent
         luanchIntent(intentString);
         
    }else{

    }
}

function luanchApp() {
 var url  = window.location.href; 
  var operationSystem = getMobileOperatingSystem();
   
        //getParams
         document.getElementById("test").innerHTML = "Android";
         var url  = window.location.href; 

         var longitude = getParams(url,"longitude");
         var latitude = getParams(url,"latitude");
         var intentString = "intent://scan?longitude=" +  longitude + "&latitude=" + latitude + "#Intent;scheme=locklocation;package=com.locklocation;end";

         document.getElementById("test").innerHTML = intentString;

         //luanch intent
         luanchIntent(intentString);

    
}




</script>
</head>

<body id="page-top" onload="loadApplication()">

    <nav id="mainNav" class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                
                <a class="navbar-brand page-scroll" style="color:#006600;" href="#page-top">Lock Location</a>
            </div>

     
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <header>
        <div class="container">
            <div class="row">
                <div class="col-sm-7">
                    <div class="header-content">
                        <div class="header-content-inner">
                            <h1>Yor friend share location with you! you can find this location with "Lock Location". "Lock Location" save, navigate and share your favorite locations ...</h1>
                            <a  id="image_luanch_app" class="btn btn-outline btn-xl page-scroll">Navigate to destination!</a>
                        </div>
                    </div>
                </div>
                <div class="col-sm-5">
                    <div class="device-container">
                        <div class="device-mockup iphone6_plus portrait white">
                            <div class="device">
                                <div class="screen">
                                    <!-- Demo image for screen mockup, you can put an image here, some HTML, an animation, video, or anything else! -->
                                    <img src="img/demo-screen-1.jpg" class="img-responsive" alt="">
                                </div>
                                <div class="button">
                                    <!-- You can hook the "home button" to some JavaScript events or just remove it -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

   
    <footer>
        <div class="container">
            <p style="color:#006600;">&copy; 2017 "Lock Location". Save your favorite locations...</p>
          
        </div>
    </footer>

    <!-- jQuery -->
    <script src="vendor/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

    <!-- Theme JavaScript -->
    <script src="js/new-age.min.js"></script>

</body>

</html>
